<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础内容 | KaCa</title>
    <meta name="description" content="KaCa">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CkkS4CRR.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BEgDdB5X.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DIV7bUsp.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CCmhkGTA.js">
    <link rel="modulepreload" href="/assets/chunks/Try.DyNpYwmX.js">
    <link rel="modulepreload" href="/assets/chunks/index.CeVZZ3NP.js">
    <link rel="modulepreload" href="/assets/chunks/index.Ctuo7IKN.js">
    <link rel="modulepreload" href="/assets/chunks/index.eQmIA9o-.js">
    <link rel="modulepreload" href="/assets/chunks/Col.BWEnWL0F.js">
    <link rel="modulepreload" href="/assets/chunks/Try.vue_vue_type_style_index_0_lang.CD-yO4GS.js">
    <link rel="modulepreload" href="/assets/doc_options.md.C-zXVyPE.lean.js">
    <meta name="baidu-site-verification" content="codeva-JtlD16QrOw">
    <meta name="google-site-verification" content="DeeRpOTHmjJrf1iBLCB-m8i2fxRtkQ_45pOl-cB0Kco">
    <link rel="icon" href="/favicon.ico">
    <script id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({id:"3N6LeVGCLNjRxhfg",ck:"3N6LeVGCLNjRxhfg",autoTrack:!0,screenRecord:!0});</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div><div class="fixed scale-150 inset-x-0 top-3 -z-10 transform-gpu overflow-hidden px-36 blur-3xl" aria-hidden="true"><div class="mx-auto aspect-[1155/678] w-[72.1875rem] bg-gradient-to-tr from-[#bd34fe] to-[#41d1ff] opacity-30" style="clip-path:polygon(
            74.1% 44.1%,
            100% 61.6%,
            97.5% 26.9%,
            85.5% 0.1%,
            80.7% 2%,
            72.5% 32.5%,
            60.2% 62.4%,
            52.4% 68.1%,
            47.5% 58.3%,
            45.2% 34.5%,
            27.5% 76.7%,
            0.1% 64.9%,
            17.9% 100%,
            27.6% 76.8%,
            76.1% 97.7%,
            74.1% 44.1%
          );"></div></div><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>KaCa</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/try.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>在线体验</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/getting-started.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>快速开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/doc/options.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>配置文档</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/setting.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>系统状态</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/contact.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>联系我们</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>文档</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/introduction.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/getting-started.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>快速开始</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>参考指南</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/options.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>参数配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/viewport-devices.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>设备列表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/errors.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>错误CODE</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>最佳实践</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/pagecover.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>网页封面</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/async-and-webhooks.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>异步处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/doc/share-image.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>分享截图</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _doc_options" data-v-e6f2a212><div><h1 id="基础内容" tabindex="-1">基础内容 <a class="header-anchor" href="#基础内容" aria-label="Permalink to &quot;基础内容&quot;">​</a></h1><h2 id="url" tabindex="-1">url <a class="header-anchor" href="#url" aria-label="Permalink to &quot;url&quot;">​</a></h2><p>需要截图的网站的 URL。或 html 参数中必须有一个。 带有示例请求 URL 的示例如下： url=<code>https://www.baidu.com/</code></p><h2 id="html" tabindex="-1">html <a class="header-anchor" href="#html" aria-label="Permalink to &quot;html&quot;">​</a></h2><p>你可以直接指定 HTML 内容，进行渲染 <code>html=&lt;h1&gt;Hello, world!&lt;/h1&gt;</code></p><h2 id="format" tabindex="-1">format <a class="header-anchor" href="#format" aria-label="Permalink to &quot;format&quot;">​</a></h2><p>输出的图片或者 pdf 格式。 可选的值如下:</p><ul><li><code>png</code></li><li><code>jpeg</code></li><li><code>webp</code></li><li><code>pdf</code></li></ul><p>默认值 <code>jpeg</code>.</p><p>参数参考例子 <code>format=jpeg</code></p><!----><h2 id="selector" tabindex="-1">selector <a class="header-anchor" href="#selector" aria-label="Permalink to &quot;selector&quot;">​</a></h2><p>一个类似 CSS 的选择器，用于指定要截图的元素。这是<code>可选的</code>。</p><p>参数参考例子 <code>selector=.content</code>:</p><!----><h1 id="pdf-渲染" tabindex="-1">PDF 渲染 <a class="header-anchor" href="#pdf-渲染" aria-label="Permalink to &quot;PDF 渲染&quot;">​</a></h1><p>如果您希望生成的 PDF 尽可能接近完整页面截图，请使用以下选项组合：</p><p><code>format=pdf&amp;media_type=screen&amp;pdf_print_background=true&amp;pdf_fit_one_page=true</code></p><h2 id="pdf-print-background" tabindex="-1">pdf_print_background <a class="header-anchor" href="#pdf-print-background" aria-label="Permalink to &quot;pdf_print_background&quot;">​</a></h2><p>设置为 true 以打印背景图形。默认值为 false。</p><h2 id="pdf-fit-one-page" tabindex="-1">pdf_fit_one_page <a class="header-anchor" href="#pdf-fit-one-page" aria-label="Permalink to &quot;pdf_fit_one_page&quot;">​</a></h2><p>默认值为 false。</p><p>当选项设置为<code>true</code>时，API 将尝试将网站适应一页。这是最接近完整页面截图的 PDF，而不会分成多页。</p><h2 id="pdf-landscape" tabindex="-1">pdf_landscape <a class="header-anchor" href="#pdf-landscape" aria-label="Permalink to &quot;pdf_landscape&quot;">​</a></h2><p>设置为 true 以将 PDF 方向设置为横向。默认值为 false。</p><h2 id="pdf-paper-format" tabindex="-1">pdf_paper_format <a class="header-anchor" href="#pdf-paper-format" aria-label="Permalink to &quot;pdf_paper_format&quot;">​</a></h2><p>指定 PDF 输出的纸张格式。可用选项有：</p><ul><li>“a0”: ISO A0 纸张尺寸 (841 x 1189 mm)</li><li>“a1”: ISO A1 纸张尺寸 (594 x 841 mm)</li><li>“a2”: ISO A2 纸张尺寸 (420 x 594 mm)</li><li>“a3”: ISO A3 纸张尺寸 (297 x 420 mm)</li><li>“a4”: ISO A4 纸张尺寸 (210 x 297 mm) - 默认值</li><li>“a5”: ISO A5 纸张尺寸 (148 x 210 mm)</li><li>“a6”: ISO A6 纸张尺寸 (105 x 148 mm)</li><li>“legal”: 法律纸张尺寸 (8.5 x 14 英寸)</li><li>“letter”: 信纸尺寸 (8.5 x 11 英寸)</li><li>“tabloid”: 小报尺寸 (11 x 17 英寸)</li></ul><p>如果未指定，默认纸张格式为“a4”。</p><h1 id="完整页面" tabindex="-1">完整页面 <a class="header-anchor" href="#完整页面" aria-label="Permalink to &quot;完整页面&quot;">​</a></h1><h2 id="full-page" tabindex="-1">full_page <a class="header-anchor" href="#full-page" aria-label="Permalink to &quot;full_page&quot;">​</a></h2><p>要截取完整页面的屏幕截图，请设置 <code>full_page=true</code>。</p><p>默认值为<code>false</code>。</p><p>当 full_page 设置为 true 时，<code>full_page_scroll</code>会自动设置为 true，直到您覆盖它。这是为了确保所有懒加载的图片都被请求和渲染。</p><h2 id="full-page-scroll" tabindex="-1">full_page_scroll <a class="header-anchor" href="#full-page-scroll" aria-label="Permalink to &quot;full_page_scroll&quot;">​</a></h2><p>如果设置为 true，则会滚动到页面底部然后返回顶部。默认值为 false。</p><p>当<code>full_page</code>设置为 true 时，<code>full_page_scroll</code>会自动设置为 true，直到您覆盖它。这是为了确保所有懒加载的图片都被请求和渲染。</p><p>请求 URL 的示例：</p><!----><h2 id="full-page-scroll-delay" tabindex="-1">full_page_scroll_delay <a class="header-anchor" href="#full-page-scroll-delay" aria-label="Permalink to &quot;full_page_scroll_delay&quot;">​</a></h2><p>默认值为 400 微秒。用它来指定您希望页面滚动到底部的速度。</p><p>一些网站需要大于 400 微秒的值来触发懒加载图片的加载。</p><p>与<code>full_page_scroll_by</code>结合使用以找到最佳解决方案。</p><h2 id="full-page-scroll-by" tabindex="-1">full_page_scroll_by <a class="header-anchor" href="#full-page-scroll-by" aria-label="Permalink to &quot;full_page_scroll_by&quot;">​</a></h2><p>默认值为视口的高度。用它来指定您希望页面滚动到底部的速度。</p><p>一些网站需要小于视口高度的值来触发懒加载图片的加载。尝试在 100 到 500 之间的值。然而，不要犹豫尝试可能对您有效的任何值。</p><p>与<code>full_page_scroll_delay</code>结合使用以找到最佳解决方案。</p><h2 id="full-page-max-height" tabindex="-1">full_page_max_height <a class="header-anchor" href="#full-page-max-height" aria-label="Permalink to &quot;full_page_max_height&quot;">​</a></h2><p>默认值未设置。用它来限制完整页面屏幕截图的高度。还可以处理和修复与无限滚动相关的问题。</p><h1 id="视口" tabindex="-1">视口 <a class="header-anchor" href="#视口" aria-label="Permalink to &quot;视口&quot;">​</a></h1><h2 id="viewport-device" tabindex="-1">viewport_device <a class="header-anchor" href="#viewport-device" aria-label="Permalink to &quot;viewport_device&quot;">​</a></h2><p>默认值未设置。</p><p>instead of manually specifying viewport parameters like width and height, you can specify a device to use for emulation. In addition, other parameters of the viewport, including the user agent, will be set automatically.</p><p>The viewport_device option sets the next options for you: <code>viewport_width</code>, <code>viewport_height</code>, <code>device_scale_factor</code>, <code>viewport_mobile</code>, <code>viewport_has_touch</code>, <code>viewport_landscape</code>. You can change these options and override the ones set by the <code>viewport_device</code> option.</p><p>Use the list of devices for available values. Use the id property of the device as viewport_device, e.g. <code>viewport_device=galaxy_s9+_landscape</code>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>API 不使用实际设备来截图。它是大多数情况下都有效的模拟。</p></div><p>带有<code>viewport_device=Galaxy S8 landscape</code>的请求 URL 示例：</p><!----><h2 id="viewport-width" tabindex="-1">viewport_width <a class="header-anchor" href="#viewport-width" aria-label="Permalink to &quot;viewport_width&quot;">​</a></h2><h2 id="viewport-height" tabindex="-1">viewport_height <a class="header-anchor" href="#viewport-height" aria-label="Permalink to &quot;viewport_height&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果设置了 viewport_device 选项，此参数将覆盖它！</p></div><p>浏览器视口的宽度（像素）。</p><p>浏览器的视口是您可以查看网页内容的车窗区域。</p><p>viewport_width 默认值为 1280。 viewport_height 默认值为 1024。</p><p>带有<code>viewport_width=1920</code>和<code>viewport_height=1080</code>的请求 URL 示例：</p><!----><h2 id="device-scale-factor" tabindex="-1">device_scale_factor <a class="header-anchor" href="#device-scale-factor" aria-label="Permalink to &quot;device_scale_factor&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果设置了 viewport_device 选项，此参数将覆盖它！</p></div><p>该参数影响截图的分辨率和清晰度,默认值是 1，如果需要更高清晰度可以设置为 2，或更高。 设置设备比例因子，可以将其视为 DPR（设备像素比）。可接受的值范围在 1 到 5 之间，包括小数，如 2.25。</p><p>如果您需要以更高的像素密度渲染屏幕截图，如 Apple 的 Retina Display，请设置为 2。</p><p>此参数可以覆盖 viewport_device 选项设置的值。</p><p>带有<code>device_scale_factor=2</code>的请求 URL 示例：</p><!----><h2 id="viewport-landscape" tabindex="-1">viewport_landscape <a class="header-anchor" href="#viewport-landscape" aria-label="Permalink to &quot;viewport_landscape&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果设置了 viewport_device 选项，此参数将覆盖它！</p></div><p>默认值为 false。如果视口是横向模式，请设置为 true。</p><p>此参数可以覆盖 viewport_device 选项设置的值。</p><p>带有<code>viewport_landscape=true</code>的请求 URL 示例：</p><!----><h1 id="图片" tabindex="-1">图片 <a class="header-anchor" href="#图片" aria-label="Permalink to &quot;图片&quot;">​</a></h1><h2 id="image-quality" tabindex="-1">image_quality <a class="header-anchor" href="#image-quality" aria-label="Permalink to &quot;image_quality&quot;">​</a></h2><p>以指定质量渲染图片。对于以下格式可用：</p><p>jpeg 允许的范围在 0 到 100 之间。默认值为 80。</p><p>带有<code>image_quality=10</code>的请求 URL 示例：</p><!----><h2 id="omit-background" tabindex="-1">omit_background <a class="header-anchor" href="#omit-background" aria-label="Permalink to &quot;omit_background&quot;">​</a></h2><p>为图片渲染透明背景。只有在网站未定义背景颜色时才有效。对于 png,webp 响应格式可用： 默认值为<code>false</code>。</p><p>设置 omit_background=true 以截取具有透明背景的屏幕截图。</p><!----><h1 id="模拟" tabindex="-1">模拟 <a class="header-anchor" href="#模拟" aria-label="Permalink to &quot;模拟&quot;">​</a></h1><h2 id="media-type" tabindex="-1">media_type <a class="header-anchor" href="#media-type" aria-label="Permalink to &quot;media_type&quot;">​</a></h2><p>如果您希望请求的页面支持渲染为打印机，请指定<code>print</code>。如果页面默认渲染为打印机，而您希望它渲染为屏幕，请使用<code>screen</code>。</p><p>带有<code>media_type=print</code>的请求 URL 示例：</p><!----><h1 id="自定义" tabindex="-1">自定义 <a class="header-anchor" href="#自定义" aria-label="Permalink to &quot;自定义&quot;">​</a></h1><h2 id="hide-selector" tabindex="-1">hide_selector <a class="header-anchor" href="#hide-selector" aria-label="Permalink to &quot;hide_selector&quot;">​</a></h2><p><code>hide_selector</code>选项允许在截图之前隐藏元素。您可以使用 css 选择器规则，所有匹配每个选择器的元素将通过将 display 样式属性设置为 none !important 来隐藏。</p><p>带有<code>hide_selector=.a</code> <code>hide_selector=a,img</code>的请求 URL 示例：</p><!----><h2 id="scripts" tabindex="-1">scripts <a class="header-anchor" href="#scripts" aria-label="Permalink to &quot;scripts&quot;">​</a></h2><p>scripts 参数允许注入自定义 JavaScript 并自定义页面行为。</p><p>带有<code>scripts=document.body.innerHTML=&quot;Hello, world!&quot;</code>或<code>scripts=https://xx.xx.com/xx.js</code>的请求 URL 示例：</p><!----><h2 id="styles" tabindex="-1">styles <a class="header-anchor" href="#styles" aria-label="Permalink to &quot;styles&quot;">​</a></h2><p>styles 参数允许注入自定义样式并自定义页面。它可能有助于为 Open Graph 协议生成美丽的图片。</p><p>带有<code>styles=h1{color: red !important;}</code>的请求 URL 示例：</p><!----><h1 id="阻塞" tabindex="-1">阻塞 <a class="header-anchor" href="#阻塞" aria-label="Permalink to &quot;阻塞&quot;">​</a></h1><h2 id="block-requests" tabindex="-1">block_requests <a class="header-anchor" href="#block-requests" aria-label="Permalink to &quot;block_requests&quot;">​</a></h2><p>通过指定 URL、域或甚至一个简单的模式来阻塞请求，如<code>block requests=.*.example.com/.*</code>。您可以通过<code>block_requests=example.com&amp;block_requests=http://.*</code>多次指定参数。阻塞规则是 js RegExp。</p><p>通过 URL 或域阻塞请求可以用来测试当资源不可用时网站如何响应。或者它可能用来加速页面加载。</p><p>或者，例如，通过<code>block_requests=.*carbonads.com&amp;block_requests=.*google-analytics.com</code>阻塞广告和跟踪器：</p><!----><h2 id="block-resources" tabindex="-1">block_resources <a class="header-anchor" href="#block-resources" aria-label="Permalink to &quot;block_resources&quot;">​</a></h2><p>按类型阻塞加载资源。可用的资源类型有：</p><ul><li>document</li><li>stylesheet</li><li>image</li><li>media</li><li>font</li><li>script</li><li>texttrack</li><li>xhr</li><li>fetch</li><li>eventsource</li><li>websocket</li><li>manifest</li><li>other</li></ul><p>阻塞资源可能有助于在截图之前优化页面加载速度。</p><p>您可以通过<code>block_resources=stylesheet&amp;block_resources=image</code>指定多个值：</p><!----><h1 id="地理位置" tabindex="-1">地理位置 <a class="header-anchor" href="#地理位置" aria-label="Permalink to &quot;地理位置&quot;">​</a></h1><h2 id="geolocation-latitude" tabindex="-1">geolocation_latitude <a class="header-anchor" href="#geolocation-latitude" aria-label="Permalink to &quot;geolocation_latitude&quot;">​</a></h2><h2 id="geolocation-longitude" tabindex="-1">geolocation_longitude <a class="header-anchor" href="#geolocation-longitude" aria-label="Permalink to &quot;geolocation_longitude&quot;">​</a></h2><h2 id="geolocation-accuracy" tabindex="-1">geolocation_accuracy <a class="header-anchor" href="#geolocation-accuracy" aria-label="Permalink to &quot;geolocation_accuracy&quot;">​</a></h2><p>为请求设置地理位置纬度。如果设置了其中一个，则两者都需要设置。 您还可以以米为单位设置地理位置精度。</p><p>从埃菲尔铁塔拍摄精度为 50 米的屏幕截图<code>geolocation_latitude=48.858184&amp;geolocation_longitude=2.294720&amp;geolocation_accuracy=50</code>：</p><!----><h1 id="请求" tabindex="-1">请求 <a class="header-anchor" href="#请求" aria-label="Permalink to &quot;请求&quot;">​</a></h1><h2 id="user-agent" tabindex="-1">user_agent <a class="header-anchor" href="#user-agent" aria-label="Permalink to &quot;user_agent&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果设置了 viewport_device 选项，此参数将覆盖它！</p></div><p>请求的用户代理。默认值是 Puppeteer 使用的浏览器的最新版本。</p><p>带有<code>user_agent=&#39;Mozilla/6.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36&#39;</code>的请求 URL 示例：</p><!----><h2 id="authorization" tabindex="-1">authorization <a class="header-anchor" href="#authorization" aria-label="Permalink to &quot;authorization&quot;">​</a></h2><p>为请求设置 Authorization 头。</p><p>当您想通过基本身份验证或令牌截图受保护的页面时，设置 authorization 头是适当的。</p><p>例如，如果使用基本身份验证和凭据，如 username:password，将其编码为 Base64 格式<code>dXNlcm5hbWU6cGFzc3dvcmQ=</code>，然后像<code>authorization=Basic+dXNlcm5hbWU6cGFzc3dvcmQ=</code>一样设置 authorization 头的值。</p><!----><h2 id="cookies" tabindex="-1">cookies <a class="header-anchor" href="#cookies" aria-label="Permalink to &quot;cookies&quot;">​</a></h2><p>为请求设置 cookies，格式为<code>&lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;; Secure; HttpOnly</code>。您可以指定多个 cookies。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;</span></span>
<span class="line"><span>// 如果省略，此属性默认为当前文档URL的主机，不包括子域。</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Expires=&lt;date&gt;</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Path=&lt;path-value&gt;</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; HttpOnly</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Secure</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; SameSite=Strict</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; SameSite=Lax</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; SameSite=None; Secure</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 多个属性也是可能的，例如：</span></span>
<span class="line"><span>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;; Secure; HttpOnly</span></span></code></pre></div><p>转义的查询字符串可能如下所示：<code>cookies=name1=val1;Domain=example.com;Secure;HttpOnly&amp;cookies=name2=val2;+Domain=example.com;+Secure;+HttpOnly</code></p><!----><h2 id="headers" tabindex="-1">headers <a class="header-anchor" href="#headers" aria-label="Permalink to &quot;headers&quot;">​</a></h2><p>为请求设置额外的头，格式为 Header-Name:Header-Value</p><p>头可以覆盖所有其他先前隐式设置的头，如 cookies 或 authorization。</p><p>您一次可以指定多个头<code>headers=X-Header-1:Value-1&amp;headers=X-Header-2:Value-2</code>：</p><!----><h2 id="time-zone" tabindex="-1">time_zone <a class="header-anchor" href="#time-zone" aria-label="Permalink to &quot;time_zone&quot;">​</a></h2><p>为请求设置时区。可用的时区有：</p><ul><li>America/Belize</li><li>America/Cayman</li><li>America/Chicago</li><li>America/Costa_Rica</li><li>America/Denver</li><li>America/Edmonton</li><li>America/El_Salvador</li><li>America/Guatemala</li><li>America/Guayaquil</li><li>America/Hermosillo</li><li>America/Jamaica</li><li>America/Los_Angeles</li><li>America/Mexico_City</li><li>America/Nassau</li><li>America/New_York</li><li>America/Panama</li><li>America/Port-au-Prince</li><li>America/Santiago</li><li>America/Tegucigalpa</li><li>America/Tijuana</li><li>America/Toronto</li><li>America/Vancouver</li><li>America/Winnipeg</li><li>Asia/Kuala_Lumpur</li><li>Asia/Shanghai</li><li>Asia/Tashkent</li><li>Europe/Berlin</li><li>Europe/Kiev</li><li>Europe/Lisbon</li><li>Europe/London</li><li>Europe/Madrid</li><li>Pacific/Auckland</li><li>Pacific/Majuro</li></ul><p>带有<code>time_zone=Asia/Shanghai</code>的请求 URL 示例：</p><!----><h2 id="bypass-csp" tabindex="-1">bypass_csp <a class="header-anchor" href="#bypass-csp" aria-label="Permalink to &quot;bypass_csp&quot;">​</a></h2><p>在少数情况下，尤其是当您尝试向网站添加[自定义脚本]时，您需要绕过网站的内容安全策略。您需要将 bypass_csp 简化为 true，默认值为 false。</p><h1 id="等待" tabindex="-1">等待 <a class="header-anchor" href="#等待" aria-label="Permalink to &quot;等待&quot;">​</a></h1><p>在渲染网站屏幕截图时，这些是其中一个最棘手的参数。如果您想了解如何等待页面准备就绪，请继续阅读。或直接使用这些等待选项。</p><h2 id="wait-until" tabindex="-1">wait_until <a class="header-anchor" href="#wait-until" aria-label="Permalink to &quot;wait_until&quot;">​</a></h2><p>使用<code>wait_until</code>等待事件发生后再截图或渲染 HTML 或 PDF。</p><p><code>wait_until</code>的默认值是<code>[&#39;networkidle2&#39;]</code>。允许的值有：</p><ul><li><code>load</code>：当 load 事件被触发时，导航成功；</li><li><code>domcontentloaded</code>：当 DOMContentLoaded 事件被触发时，导航完成；</li><li><code>networkidle0</code>：当网络连接数不超过 0 且持续至少 500ms 时，导航完成；</li><li><code>networkidle2</code>：当网络连接数不超过 2 且持续至少 500ms 时，考虑导航完成。 参数接受多个值。这意味着屏幕截图将在所有事件都发生后再进行。</li></ul><p>带有<code>wait_until=networkidle2&amp;wait_until=domcontentloaded</code>的请求示例：</p><!----><h2 id="delay" tabindex="-1">delay <a class="header-anchor" href="#delay" aria-label="Permalink to &quot;delay&quot;">​</a></h2><p>指定延迟选项（以秒为单位）以在截图或渲染 HTML 或 PDF 之前等待。</p><p>当<code>wait_until</code>选项对您不起作用，并且您希望确保一切准备就绪时，这是合适的。</p><p>默认值为 0。</p><p>延迟值必须是一个介于 0 和<a href="#timeout">timeout</a>值之间的整数。</p><p>带有<code>delay=5</code>的请求示例：</p><!----><h2 id="timeout" tabindex="-1">timeout <a class="header-anchor" href="#timeout" aria-label="Permalink to &quot;timeout&quot;">​</a></h2><p>指定超时（以秒为单位），如果截图或渲染仍然不可能，将在何时中止请求。默认值和最大值是 50。</p><p>带有<code>timeout=20</code>的请求示例：</p><!----><h1 id="储存" tabindex="-1">储存 <a class="header-anchor" href="#储存" aria-label="Permalink to &quot;储存&quot;">​</a></h1><!----><p>当缓存选项设置为 true 时，仅在缓存未命中时才会触发上传。这意味着，如果您想随时上传截图，请将缓存选项设置为 false。</p><p>您可以使用任何与 S3 兼容的存储将屏幕截图、呈现的 HTML 或 PDF 存储到配置的 S3 存储桶中。</p><p>如果您不关心获取实际情况而只想将渲染结果上传到存储，请指定 response_type=empty。</p><p>请求示例如下 response_type=empty：</p><!----><h2 id="store" tabindex="-1">store <a class="header-anchor" href="#store" aria-label="Permalink to &quot;store&quot;">​</a></h2><!----><p>默认值为 空。用于 store=aliyun 触发将截取的屏幕截图、渲染后的 HTML 或 PDF 上传到配置的 阿里云 存储桶。请确保已配置对的访问权限。</p><p>可选值为 <code>aliyun</code> 请求示例如下 store=aliyun：</p><!----><h2 id="storage-path" tabindex="-1">storage_path <a class="header-anchor" href="#storage-path" aria-label="Permalink to &quot;storage_path&quot;">​</a></h2><p>设置 存储路径,不要指定扩展名 如果设置了 store 参数，则该参数默认是 <code>kaca</code>。 您还可以在路径部分指定“子目录”。</p><p>请求示例如下 storage_path=latest/example：</p><!----><h2 id="storage-endpoint" tabindex="-1">storage_endpoint <a class="header-anchor" href="#storage-endpoint" aria-label="Permalink to &quot;storage_endpoint&quot;">​</a></h2><p>设置 阿里云的 endpoint</p><h2 id="storage-access-key-id" tabindex="-1">storage_access_key_id <a class="header-anchor" href="#storage-access-key-id" aria-label="Permalink to &quot;storage_access_key_id&quot;">​</a></h2><p>设置 存储访问密钥 ID 访问密钥 ID。它将覆盖仪表板配置中指定的密钥 ID。</p><h2 id="storage-secret-access-key" tabindex="-1">storage_secret_access_key <a class="header-anchor" href="#storage-secret-access-key" aria-label="Permalink to &quot;storage_secret_access_key&quot;">​</a></h2><p>设置 存储秘密访问密钥,秘密访问密钥。它将覆盖仪表板配置中指定的密钥。</p><h2 id="storage-bucket" tabindex="-1">storage_bucket <a class="header-anchor" href="#storage-bucket" aria-label="Permalink to &quot;storage_bucket&quot;">​</a></h2><p>设置 存储桶 您可以覆盖您配置的默认存储桶 <code>storage_bucket=bucketname</code>。</p><!----><h2 id="storage-class" tabindex="-1">storage_class <a class="header-anchor" href="#storage-class" aria-label="Permalink to &quot;storage_class&quot;">​</a></h2><p>设置 存储类别 默认值为 standard。</p><h2 id="storage-acl" tabindex="-1">storage_acl <a class="header-anchor" href="#storage-acl" aria-label="Permalink to &quot;storage_acl&quot;">​</a></h2><p>设置 存储访问控制列表 未设置默认值。</p><p>上传文件时指定 ACL 值。</p><h2 id="storage-return-location" tabindex="-1">storage_return_location <a class="header-anchor" href="#storage-return-location" aria-label="Permalink to &quot;storage_return_location&quot;">​</a></h2><p>设置 存储返回位置 您可以要求返回 OSS 存储后 返回的文件位置。 请求示例如下 storage_return_location=true：</p><p>您将以 Header 形式接收位置，X-Kaca-Store-Location 或者将其设置 response_type=json 为 JSON 的属性 store.location。</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/doc/getting-started.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>快速开始</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/doc/viewport-devices.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>设备列表</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the MIT License.</p><p class="copyright" data-v-566314d4>Copyright © 2025-present</p></div></footer><!--[--><!--]--></div></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"doc_async-and-webhooks.md\":\"B1_ch5MF\",\"doc_chrome-down.md\":\"Dbm-W17B\",\"doc_contact.md\":\"BlHxqwxh\",\"doc_en_errors.md\":\"DxnocAFm\",\"doc_en_options.md\":\"BubBeIyz\",\"doc_en_viewport-devices.md\":\"sweeANF5\",\"doc_errors.md\":\"CLuBxLzv\",\"doc_getting-started.md\":\"jFfP2z9N\",\"doc_introduction.md\":\"CTrF0YYb\",\"doc_options.md\":\"C-zXVyPE\",\"doc_pagecover.md\":\"BDPp4Fta\",\"doc_pricing.md\":\"CXPX9x-Z\",\"doc_private-deployment.md\":\"Czxh0zaE\",\"doc_setting.md\":\"DHF4lCfU\",\"doc_share-image.md\":\"BsalmhuK\",\"doc_viewport-devices.md\":\"BATFzg_2\",\"index.md\":\"sPR_u4Wy\",\"try.md\":\"w78AaCfz\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"KaCa\",\"description\":\"KaCa\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh\",\"themeConfig\":{\"outline\":[1,3],\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"在线体验\",\"link\":\"/try\"},{\"text\":\"快速开始\",\"link\":\"/doc/getting-started\"},{\"text\":\"配置文档\",\"link\":\"/doc/options\"},{\"text\":\"系统状态\",\"link\":\"/doc/setting\"},{\"text\":\"联系我们\",\"link\":\"/doc/contact\"}],\"sidebar\":[{\"text\":\"文档\",\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/doc/introduction\"},{\"text\":\"快速开始\",\"link\":\"/doc/getting-started\"}]},{\"text\":\"参考指南\",\"collapsed\":false,\"items\":[{\"text\":\"参数配置\",\"link\":\"/doc/options\"},{\"text\":\"设备列表\",\"link\":\"/doc/viewport-devices\"},{\"text\":\"错误CODE\",\"link\":\"/doc/errors\"}]},{\"text\":\"最佳实践\",\"collapsed\":false,\"items\":[{\"text\":\"网页封面\",\"link\":\"/doc/pagecover\"},{\"text\":\"异步处理\",\"link\":\"/doc/async-and-webhooks\"},{\"text\":\"分享截图\",\"link\":\"/doc/share-image\"}]}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2025-present\"},\"socialLinks\":[]}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>